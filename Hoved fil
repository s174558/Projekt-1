# -*- coding: utf-8 -*-
"""
Created on Thu Oct 31 13:47:28 2019

@author: frederik
"""
import pandas as pd
import numpy as np
import os
import matplotlib.pyplot as plt

from Statistics import dataStatistics
from dataLoad import dataLoad
from dataLoad import dataErrors
from dataPlot import dataPlot
from dataSort import dataSort

#Defining our data variables to be None
Data = None
DataSort = None

print('###############################################\n###         Welcome to our program          ###\n###############################################')

def Input(text):
    print('1 - Load a file')
    print('2 - Filter data')
    print('3 - Show statistics')
    print('4 - Generate diagrams')
    print('5 - Exit the program')
    while True:
        try:
            num = float(input(text))
            if num <= 5 and num >= 1:
                return num
            else:
                print(num, 'is not a number between 1 and 5')
                
        except ValueError:
            print("That was not a number")

def Load():
    
    while True:
        File=str(input('Please enter the name of the file\n'))
        Data = dataLoad(File)
        if isinstance(Data,str) == True:
            print(Data)
            
        else:
            return Data
#Test fil: StatistikTest.txt

def Filter():
    global DataSort
    if Data is None:
        print('I don\'t have any data. Please select 1 to load a file\n')
        return
    
    if DataSort is not None:
        DataSort = dataSort(DataSort)
    elif Data is not None:
        DataSort = dataSort(Data)
    return


def Statistics():
    if Data is None:
        print('I don\'t have any data. Please select 1 to load a file\n')
        return
    
#Runs the while-loop until the right paramteres have been used in in 'dataStatisticks' from 'Statistics.py'
    while True:
        statistic = input('What kind of statistic do you wanna do?\n\
For Mean Temperature      - Write Mean Temperature or MT\n\
For Mean Growth rate      - Write Mean Growth rate or MGR\n\
For Std Temperature       - Write Std Temperature or SDT\n\
For Std Growth rate       - Write Std Growth rate or SDG\n\
For numbers of rows       - Write Rows or R\n\
For Mean Cold Growth rate - Write Mean Cold Growth rate or MCGR\n\
For Mean Hot Growth rate  - Write Mean Hot Growth rate or MHGR\n')
        
        stat = dataStatistics(Data, statistic)
        print(stat)
        if stat != 'Invalid statistic name':
            print('What do you want to do now?\n')
            return

def Plot():
    if Data is None:
        print('I don\'t have any data. Please select 1 to load a file\n')
        return
    
    if DataSort is not None:
        dataPlot(DataSort)
    elif Data is not None:
        dataPlot(Data)
    print('Those where some nice plots! What do you want to do know?\n')
    return
    

while True:
    UserInput = Input('Write a number between 1 and 5\n')

#Finds the function which matches the users interest
    if UserInput == 1:
        print('You have selected to load a file')
        Data = Load()
        print('\nYou have now succesfully loaded some data, what do you want to do now?\n')
    elif UserInput == 2:
        print('You have selected to sort your data\n')
        Filter()
        print('You have now succesfully sorted your data, what do you want to do now?\n')
    elif UserInput == 3:
        print('You have chosen to do statistics on your data')
        Statistics()
        
    elif UserInput == 4:
        print('You have chosen to see plots of your data\n')
        Plot()
        
    elif UserInput == 5:
        print('Thanks for using our program, till next time')
        break 
